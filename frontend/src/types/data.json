

// {    const totalWeightKg = ordersWithItems.reduce(
//       // (acc, order) => acc + calculateOrderWeight(order),
//       (acc, order) => acc + (order.weight_kg ?? 0),
//       0
//     );

//     const totalSLMDQty = ordersWithItems.reduce(
//       (acc, order) => acc + (order.quantity ?? 0),
//       0
//     );

//     const totalArticles = ordersWithItems.reduce((acc, order) => {
//       const articles = order.article_sku
//         ? order.article_sku.split(",").length
//         : 0;
//       return acc + articles;
//     }, 0);

//     const [ratesRows]: any = await connection.execute(`
//       SELECT * FROM delivery_cost_rates
//       ORDER BY id DESC
//       LIMIT 1
//       `);
//     const rates = ratesRows[0] as DeliveryCostRates;
//     if (!rates) throw new Error("No delivery cost rates found");

//     // Compute costs
//     const personnelCost = rates.personnel_costs_per_hour * totalDurationHrs;
//     const dieselCost =
//       (rates.diesel_costs_per_liter *
//         rates.consumption_l_per_100km *
//         totalDistanceKm) /
//       100;
//     const vanCost = rates.van_costs_per_day;
//     const totalCost: number =
//       +rates.hotel_costs + +vanCost + +dieselCost + +personnelCost;

//     // Order stops
//     const costPerStop = ordersWithItems.length
//       ? totalCost / ordersWithItems.length
//       : 0;
//     const costPerBkw = totalArticles ? totalCost / totalArticles : 0;
//     const costPerSlmd = totalSLMDQty ? totalCost / totalSLMDQty : 0;
// }



	
id
dynamic_tour_id
tour_id
total_weight_kg
total_distance_km
total_duration_hrs
delivery_cost_per_stop
delivery_cost_per_bkw
delivery_cost_per_slmd
total_cost
hotel_cost
van_tour_cost
diesel_tour_cost
personnel_tour_cost
warehouse_tour_cost
infeed_tour_cost
we_tour_cost
wa_tour_cost

107
124
NULL
1394.00
208.20
5.41
17.58
7.28
3.46
211.00
65.00
18.91
28.73
98.35
0.00
0.00
0.00
0